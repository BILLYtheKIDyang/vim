第一章客户服务器网络介绍
Introduction to Client/Server Networking

本书的一切都是基于TCP/IP的。

尽管编写基本的网络服务并不需要完全理解TCP/IP，但是如果您想写更高级的服务，或者想自己编写的程序更安全、更健壮，那么很好的理解TCP/IP是一个基本前提。

当前大多数使用中的通信都使用TCP协议。
为了实现共享（即一根网线QQ可用，浏览器也可用），TCP是通过把您要发送的数据流分成很多小信息包在Internet上传输的（也许还伴有其他程序的信息包），而这些信息包到了接收者的地方会再次重新组合在一起。通过分解成小的信息包Internet连接就会用很少的时间来发送数据的每一个比特（bit）而其他程序的信息包也可以同时被传送。

寻址就是确定IP地址和端口号。

TCP可靠是说除非整个网络都出问题，数据将被完好地按原样正确地传送到另外一端。保证可靠性的规则：
1. 校验码 每个信息包都包含一个校验码。接收方收到信息包后，对比信息包和信息包中的校验码，不对就忽略该信息包。
2. 反馈
TCP要求接收方每收到一个信息包都反馈一下。没提供反馈，就重发一次。
3. 序号
每发送一个信息包都会发送一个序号。接收方检查序号，按序号把信息包重新组合起来。重复的序号，信息包被丢弃。

路由：在Internet上负责接收信息包并决定如何把它们传输到目的地的设备叫路由器。

信息包在Internet上经过哪些路由器设备: traceroute，mtr

路由器断掉，程序会察觉。
路由线路拥挤，信息包会丢失，传输会慢。

Secure Sockets Layer (SSL) 和 Transport Layer Security (TLS)。
SSL 一般是在 TCP 连接之上的，与程序代码混合在一起。
它提供服务器的认证（所以您知道您正在和谁通话）、加密（所以其他人都不能看到你的通信）和数据完整性（所以在没有察觉的情况下，传输途中的信息包没有人能够修改）。
TSL的原理和SSL非常类似，质包含在协议栈（protocol stack）中。

自己写的服务端口号比1024大，最大是65535。
客户端端口号不重要，系统随机选一个。

UDP不保证收到，不保证只接收一次，不保证数据次序与发送时一致，只保证数据完整。

UDP通常用在客户端向服务器申请一个比特信息的情形。典型的就是DNS系统。
UDP用于流式音视频，因为丢包它不管，就很流畅。TCP丢一个包就要处理，反而不流畅。
UDP也用于游戏和网络文件系统。

一个UDP信息包不能超过 64 KB，通常是 1KB以下。

