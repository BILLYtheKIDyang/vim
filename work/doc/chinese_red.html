<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>chinese.red - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./'.html">&#39;</a>
  
    <li><a href="./24_pl.html">24.pl</a>
  
    <li><a href="./4748_test.html">4748.test</a>
  
    <li><a href="./7444_test.html">7444.test</a>
  
    <li><a href="./9_39_pl.html">9.39.pl</a>
  
    <li><a href="./A_java.html">A.java</a>
  
    <li><a href="./AdvancedPerl_pl.html">AdvancedPerl.pl</a>
  
    <li><a href="./ArrayDemo_java.html">ArrayDemo.java</a>
  
    <li><a href="./Devinitive_js.html">Devinitive.js</a>
  
    <li><a href="./EffectivePerl_pl.html">EffectivePerl.pl</a>
  
    <li><a href="./EmergencyElisp_txt.html">EmergencyElisp</a>
  
    <li><a href="./LiveLessons_pl.html">LiveLessons.pl</a>
  
    <li><a href="./LiveLessons_py.html">LiveLessons.py</a>
  
    <li><a href="./PERL_vim.html">PERL.vim</a>
  
    <li><a href="./Scheme_txt.html">Scheme</a>
  
    <li><a href="./a_clj.html">a.clj</a>
  
    <li><a href="./a_cs.html">a.cs</a>
  
    <li><a href="./a_hs.html">a.hs</a>
  
    <li><a href="./a_html.html">a.html</a>
  
    <li><a href="./a_js.html">a.js</a>
  
    <li><a href="./a_lisp.html">a.lisp</a>
  
    <li><a href="./a_pl.html">a.pl</a>
  
    <li><a href="./a_ps1.html">a.ps1</a>
  
    <li><a href="./a_py.html">a.py</a>
  
    <li><a href="./a_red.html">a.red</a>
  
    <li><a href="./a_scala.html">a.scala</a>
  
    <li><a href="./a_sml.html">a.sml</a>
  
    <li><a href="./a_vbs.html">a.vbs</a>
  
    <li><a href="./a_vim.html">a.vim</a>
  
    <li><a href="./b_js.html">b.js</a>
  
    <li><a href="./b_p6.html">b.p6</a>
  
    <li><a href="./b_pl.html">b.pl</a>
  
    <li><a href="./b_py.html">b.py</a>
  
    <li><a href="./bigpy-dir_py.html">bigpy-dir.py</a>
  
    <li><a href="./c_js.html">c.js</a>
  
    <li><a href="./c_pl.html">c.pl</a>
  
    <li><a href="./chinese_red.html">chinese.red</a>
  
    <li><a href="./client_pl.html">client.pl</a>
  
    <li><a href="./closureobject_txt.html">closureobject</a>
  
    <li><a href="./connect_py.html">connect.py</a>
  
    <li><a href="./connect2_py.html">connect2.py</a>
  
    <li><a href="./connect3_py.html">connect3.py</a>
  
    <li><a href="./cron_pl.html">cron.pl</a>
  
    <li><a href="./cronlog_txt.html">cronlog</a>
  
    <li><a href="./crontab.html">crontab</a>
  
    <li><a href="./d_pl.html">d.pl</a>
  
    <li><a href="./download_py.html">download.py</a>
  
    <li><a href="./fact_py.html">fact.py</a>
  
    <li><a href="./fork_pl.html">fork.pl</a>
  
    <li><a href="./gopherclient_py.html">gopherclient.py</a>
  
    <li><a href="./gopherclient3_py.html">gopherclient3.py</a>
  
    <li><a href="./gopherlibclient_py.html">gopherlibclient.py</a>
  
    <li><a href="./hangman_pl.html">hangman.pl</a>
  
    <li><a href="./lgetr_pl.html">lgetr.pl</a>
  
    <li><a href="./markov_pl.html">markov.pl</a>
  
    <li><a href="./mydata.html">mydata</a>
  
    <li><a href="./perlEssential_pl.html">perlEssential.pl</a>
  
    <li><a href="./python-mode_el.html">python-mode.el</a>
  
    <li><a href="./red_red.html">red.red</a>
  
    <li><a href="./repl_vbs.html">repl.vbs</a>
  
    <li><a href="./server_pl.html">server.pl</a>
  
    <li><a href="./server_py.html">server.py</a>
  
    <li><a href="./socketerrors_py.html">socketerrors.py</a>
  
    <li><a href="./t_py.html">t.py</a>
  
    <li><a href="./tags_vim.html">tags.vim</a>
  
    <li><a href="./urlclient_py.html">urlclient.py</a>
  
    <li><a href="./vbs-repl_el.html">vbs-repl.el</a>
  
    <li><a href="./vbsh_vbs.html">vbsh.vbs</a>
  
    <li><a href="./vbshell_vbs.html">vbshell.vbs</a>
  
    <li><a href="./vimtags_pl.html">vimtags.pl</a>
  
    <li><a href="./visual-basic-mode_el.html">visual-basic-mode.el</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page chinese.red">

<p>HEADER IMAGE</p>

<p>Home : Getting Started Getting Started With Red By Nick Antonaccio Updated 4-1-2016 Contents:</p>
<ol><li>
<p>Downloading the Red Interpreter</p>
</li><li>
<p>Compiling Native Red Apps From Source</p>
</li><li>
<p>Red Fundamentals</p>
</li></ol>

<p>3.1 Functions 3.2 Data Persistence - Red Requires No Database System 3.3 Variables 3.4 Conditional Evaluations 3.5 Using Text Strings and Concatenation 3.6 Lists 3.7 Loops 3.8 User Interfaces 3.9 User Created Functions 3.10 Handling Errors</p>
<ol><li>
<p>Some Rote GUI, File, and Data List Examples in Rebol</p>
</li></ol>

<p>4.1 Basic GUI Examples 4.2 Some GUI Examples Using Lists and Loops 4.3 Building a Basic CRUD (create, read, update, delete) Contacts App</p>
<ol><li>
<p>A Few More Complete App Examples</p>
</li></ol>

<p>5.1 Tip Calculator 5.2 Tile Game 5.3 Generic Calculator 5.4 Coin Flip 5.5 Additional Example Apps to Study</p>
<ol><li>
<p>Downloading the Red Interpreter</p>
</li></ol>

<p>The most current official binary downloads of the Red interpreter are available at <a href="http://www.red-lang.org/p/download.html">www.red-lang.org/p/download.html</a>. At the moment, the most recent version available at that link is 0.6.0. You can paste code examples directly into the console, or drag script files onto the interpreter executable to run them.</p>
<ol><li>
<p>Compiling Native Red Apps From Source</p>
</li></ol>

<p>Red is being actively developed, and new features are available regularly. To use the most recent development version of Red on any supported platform, or to produce native binaries for your chosen platform, you can compile your Red scripts using the Red source code:</p>

<p>Download the source repository at <a href="https://github.com/red/red">github.com/red/red</a>. Click the “Download Zip” link, then unzip the package to a folder on your hard drive. For the purpose of this tutorial, we&#39;ll assume that you&#39;ve unzipped the package into C:\ on a Windows machine. Download the Rebol interpreter from <a href="http://www.rebol.com/download-core.html">www.rebol.com/download-core.html</a>, and copy it directly into the root directory of the unpacked source folder above (i.e., C:red) That&#39;s it. To compile a script:</p>

<p>Open the Rebol interpreter At the console, type “do/args %red.r {%yourscript.red}” When compilation is complete, you&#39;ll see the file name of the created executable displayed (i.e., yourscript.exe).</p>

<p>That&#39;s all it takes to get Red programs running from source.</p>

<p>NOTE: the console will allow you to see results much more quickly and naturally. You&#39;ll notice that some interactive examples are wrapped in “do []”. This allows the code to be pasted into the interpreter before functions such as “ask”, which require user input, are evaluated.</p>
<ol><li>
<p>Red Fundamentals</p>
</li></ol>

<p>3.1 Functions Functions are words which perform actions upon data “arguments” (or “parameters”). The &#39;print function prints some text to the Red console. In the following code, &#39;print is the function, “Hello World” is the argument. Try pasting this example into the Red console:</p>

<p>print “Hello World” The &#39;halt function doesn&#39;t require any argument. It just stops the program and displays the console:</p>

<p>halt The &#39;request-file function pops up a dialog which allows the user to select a file from the local file system:</p>

<p>request-file In Red, some functions have optional “refinements”, which allow the function to accept a variety of potentially useful parameters. Here are some refinements of the &#39;request-file function. Try them in the console:</p>

<p>request-file/file %test.red request-file/file/save %test.red 3.1.1 Return Values The &#39;ask function returns, or outputs, the text entered by the user:</p>

<p>ask “Enter some text:  ” When working in the console, the return values of functions are automatically printed. When working in a script file, you can print the return value of a function to the console:</p>

<p>Red []        ; header, because this will be run from a script file print ask “Enter some text:  ” halt          ; this stops the interpreter from closing after printing The example below uses the &#39;print function to display the output of the &#39;request-dir function, right back to the user:</p>

<p>print request-dir Note that before the &#39;print function above can complete its operation, a value first needs to be returned from the &#39;request-dir function. Because of that requirement, when this code runs, the print function is held up temporarily, and the first thing the user sees is the &#39;request-dir popup.</p>

<p>Using the output value of one function as the input argument of another function is a routine way of composing code in Red.</p>

<p>3.2 Data Persistence - Red Requires No Database System To save text data to a hard drive, thumb drive, or other storage medium, use the &#39;write function. The &#39;write function takes two arguments: a file location, and the data to be written to that file. Local file names are preceded by the percent symbol (%):</p>

<p>write %mydata “This is some text that I want to save for later.” To retrieve the text later, use the &#39;read function. You can use the &#39;print function to print formatted data read from a file, or the &#39;probe function to view the raw data without any formatting:</p>

<p>print read %mydata</p>

<p>probe read %mydata</p>

<p>你可以从网络上的服务器上读数据，方法与从本地你电脑的磁盘上一样。 You can read from servers at a network/Internet URL, in the same way you read from local drives on your computer:</p>

<p>read <a href="http://site.com/mydata.txt">site.com/mydata.txt</a></p>

<p>/binary修饰符允许你一字节一字节的读 The /binary refinement allows you to read data byte for byte:</p>

<p>read/binary <a href="http://redprogramming.com/Home.html">redprogramming.com/Home.html</a></p>

<p>组合 &#39;write 给 &#39;read 就成下载了： Combining &#39;write with &#39;read performs a download:</p>

<p>write %r.html read/binary <a href="http://www.baidu.com/index.html">www.baidu.com/index.html</a></p>

<p>To store complex structured data types, in any format which is natively understood by Red, use the &#39;save function:</p>

<p>save %mycontacts [“John” “Bill” “Jane” “Ron” “Sue”] To load saved structured data, use the “load” function:</p>

<p>probe load %mycontacts You&#39;ll see that Red provides all the required abilities to search, sort, compare, combine, add, remove, change, load, save, and otherwise manipulate persistent data. Together, all these features provide the same capabilities as database systems such as MySQL, SQLite, etc., with a shorter and more consistent learning curve, and more fine grained control of data processing algorithms, all in a tiny, 100% portable tool set. The functions learned, and the set of skills used to manage persistent data structures in Red are also used to tackle many other sorts of problem domains in the language (access to network socket connections, email accounts, graphic displays, console and IO interactions, etc.). This single set of skills is much more broadly applicable in Red, than for example SQL is in other languages (SQL is a domain specific language which can only be applied to processing information in database operations). This consistently applied concept is a basic feature which helps Red maintain simplicity. The issue of managing concurrent access to data by multiple client users is easily solved in Red.</p>

<p>3.3 Variables Variables are word labels (some series of characters) assigned to represent data in a program. In Red, word labels are created with the colon symbol. Try pasting these examples into the Red console:</p>

<p>name: “John” probe name Variables can be changed to hold different values (the data they refer to is variable). The code above prints “John”. The code below prints “Bill”:</p>

<p>name: “Bill” probe name Note that Red is case insensitive. The interpreter treats lower case and capital letters in identifiers the same:</p>

<p>name: “George” print name print Name print NAME print NaMe You can assign a variable word label to data returned by requestor functions. This code prints the name of the file which the user selects:</p>

<p>name: request-file probe name You can assign a label to data read from a file:</p>

<p>data: read %mydata probe data You can assign a label to any block of code, and evaluate (run) that code with the &#39;do function:</p>

<p>mycode: [print “Hello” halt] do mycode 3.4 Conditional Evaluations Most programs make use of “if/then” evaluations: if (this) is true [do this]:</p>

<p>account: -10 if account &lt; 0 [print “Your account is overdrawn.”] “Either” is like if/else evaluations in other languages: if (this) is true [do this] [otherwise do this]. Notice that each separate action block is indented, so that you can clearly see two 2 differentiated actions. Notice also that this interactive example is wrapped in a “do []” block:</p>

<p>do [</p>

<pre>pass: ask &quot;Enter Password:  &quot;
either pass = &quot;secret&quot; [
    print &quot;Welcome back.&quot;
] [
    print &quot;Incorrect password.&quot;
]</pre>

<p>] “Case” can be used to choose between a variety of actions, depending on the situation:</p>

<p>name: “john” case [</p>

<pre>find name &quot;a&quot; [print {Your name contains the letter &quot;a&quot;}]
find name &quot;e&quot; [print {Your name contains the letter &quot;e&quot;}]
find name &quot;i&quot; [print {Your name contains the letter &quot;i&quot;}]
find name &quot;o&quot; [print {Your name contains the letter &quot;o&quot;}]
find name &quot;u&quot; [print {Your name contains the letter &quot;u&quot;}]
true [print {Your name doesn&#39;t contain any vowels!}]</pre>

<p>] There are many other conditional evaluation structures in Red, but these are enough to handle most situations.</p>

<p>3.5 Using Text Strings and Concatenation {Curly braces} can be used instead of quotes, to enclose strings of text which contain quote characters, or multi-line strings:</p>

<p>print {She said “Hi”}</p>

<p>print {</p>

<pre class="ruby"><span class="ruby-identifier">line</span> <span class="ruby-value">1</span>
<span class="ruby-identifier">line</span> <span class="ruby-value">2</span>
<span class="ruby-identifier">line</span> <span class="ruby-value">3</span>
</pre>

<p>} The &#39;trim function provides a number of refinements which are helpful in removing white space from strings:</p>

<p>print trim {</p>

<pre class="ruby"><span class="ruby-identifier">line</span> <span class="ruby-value">1</span>
<span class="ruby-identifier">line</span> <span class="ruby-value">2</span>
<span class="ruby-identifier">line</span> <span class="ruby-value">3</span>
</pre>

<p>}</p>

<p>print trim/all {</p>

<pre class="ruby"><span class="ruby-identifier">line</span> <span class="ruby-value">1</span>
<span class="ruby-identifier">line</span> <span class="ruby-value">2</span>
<span class="ruby-identifier">line</span> <span class="ruby-value">3</span>
</pre>

<p>} The “^/” character is used to represent a carriage return:</p>

<p>print “line 1^/line 2^/line 3” The “prin” function is used to print text without a carriage return:</p>

<p>prin “no newline ” prin “add a newline manually” prin newline  ; “^/” “Concatenation” is the process of joining together multiple pieces of data. Red uses the &#39;append function to concatenate text:</p>

<p>print append “Chosen file name: ” request-file Most programs make use of concatenated values which are represented by variable labels, typically obtained from user input, resulting from conditional operations, resulting from various potential program states, or other data items which change dynamically during the operation of the program. Notice that concatenated items can be placed on multiple lines and indented for readability:</p>

<p>do [</p>

<pre>name: ask &quot;Your Name:  &quot;
file: request-file
print append append name &quot;, your chosen file is: &quot; file</pre>

<p>] When printing multiple values, there&#39;s no need to concatenate. Just put each separate value inside a block, and they will be joined automatically when printed:</p>

<p>name: “John”  birthday: “1-Jan-1999”  phone: “123-234-3456” prin [“name: ” name  “  birthday: ” birthday “  phone: ” phone] You can concatenate strings of code, and run that code using the &#39;do function (this is a simple form of “metaprogramming”):</p>

<p>do [</p>

<pre>code: ask {Enter some code:  }   ; for example, {print &quot;hello&quot;}
do append {print &quot;Here&#39;s your running code...&quot;} code</pre>

<p>] 3.6 Lists Most computer applications deal with some sort of data list(s): lists of coordinates in a graphics program, lists of items (and perhaps their prices, sizes, shipping dates, etc.) in an inventory program, lists of names (and their account numbers, passwords, transaction details, etc.) in a financial program, lists of files in a utility program, emails in an email program, etc. Red&#39;s main list structure is called the “series”. There are a number of functions built into Red which allow you to add, remove, change, search, sort, compare, combine, load, save, and otherwise manipulate series data. Manipulating characters within strings of text (lists of characters), graphics on screen in a game (list of images and screen locations in a draw block), pieces of data being transferred between network ports, etc. all require knowledge of only that one simple set of functions.</p>

<p>The basic code structure used to store series of data items in Red is called the “block”. Just put square brackets around a list of items, and assign it a variable label:</p>

<p>names: [“John” “Dave” “Jane” “Bob” “Sue”] codes: [2804 9439 2386 9823 4217] files: [%employees %vendors %contractors %events] You can pick, find, and sort items from the list using simple functions and constructs:</p>

<p>print pick names 3          ; these two lines do print names/3               ; exactly the same thing print find names “Dave” print sort names print sort codes Notice in the sort examples above that each type of data is automatically sorted appropriately (names alphabetically, numbers ordinally, etc.).</p>

<p>Save and load blocks of data using the &#39;save and &#39;load functions:</p>

<p>names: [“John” “Dave” “Jane” “Bob” “Sue”] save %mynames names loaded-names: load %mynames probe loaded-names Mastering series manipulation is a core skill required for Red proficiency. These functions will become thoroughly familiar: pick, find, at, index?, length?, append, remove, insert, extract, copy, replace, select, sort, reverse, head, next, back, last, tail, skip, change, poke, clear, join, intersect, difference, exclude, union, unique, empty?, write, read, save, load.</p>

<p>3.7 Loops Loops are used to do something to or with each consecutive item in a list. &#39;Foreach is the most commonly used type of loop in Rebol:</p>

<p>names: [“John” “Dave” “Jane” “Bob” “Sue”] foreach name names [print name] The variable labels in loops can be set to any arbitrary word. For example, this example does the exact same thing as the code above:</p>

<p>n: [“John” “Dave” “Jane” “Bob” “Sue”] foreach i n [print i] Very often, you&#39;ll check each item in a list for a condition, and do something appropriate based on the evaluation of each item:</p>

<p>names: [“John” “Dave” “Jane” “Bob” “Sue”] foreach name names [</p>

<pre>if find name &quot;j&quot; [print name]</pre>

<p>]</p>

<p>numbers: [323 2498 94321 31 82] foreach number numbers [</p>

<pre>if number &gt; 300 [print form number]</pre>

<p>] You can structure data in a list to form rows and columns. The following foreach loop labels every 3 consecutive pieces of data in the &#39;mycontacts list as a name, address, and phone value. Notice that “” is used as an empty place holder:</p>

<p>mycontacts: [</p>

<pre class="ruby"><span class="ruby-string">&quot;John Smith&quot;</span> <span class="ruby-string">&quot;123 Tomline Lane Forest Hills, NJ&quot;</span> <span class="ruby-string">&quot;555-1234&quot;</span>
<span class="ruby-string">&quot;Paul Thompson&quot;</span> <span class="ruby-string">&quot;234 Georgetown Pl. Peanut Grove, AL&quot;</span> <span class="ruby-string">&quot;555-2345&quot;</span>
<span class="ruby-string">&quot;Jim Persee&quot;</span> <span class="ruby-string">&quot;345 Pickles Pike Orange Grove, FL&quot;</span> <span class="ruby-string">&quot;555-3456&quot;</span>
<span class="ruby-string">&quot;George Jones&quot;</span> <span class="ruby-string">&quot;456 Topforge Court Mountain Creek, CO&quot;</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-string">&quot;Tim Paulson&quot;</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-string">&quot;555-5678&quot;</span>
</pre>

<p>] foreach [name address phone] mycontacts [</p>

<pre class="ruby"><span class="ruby-identifier">print</span> <span class="ruby-identifier">name</span>
</pre>

<p>] You can use the &#39;extract function, instead of a &#39;foreach loop, as a shortcut to get columns of data:</p>

<p>mycontacts: [</p>

<pre class="ruby"><span class="ruby-string">&quot;John Smith&quot;</span> <span class="ruby-string">&quot;123 Tomline Lane Forest Hills, NJ&quot;</span> <span class="ruby-string">&quot;555-1234&quot;</span>
<span class="ruby-string">&quot;Paul Thompson&quot;</span> <span class="ruby-string">&quot;234 Georgetown Pl. Peanut Grove, AL&quot;</span> <span class="ruby-string">&quot;555-2345&quot;</span>
<span class="ruby-string">&quot;Jim Persee&quot;</span> <span class="ruby-string">&quot;345 Pickles Pike Orange Grove, FL&quot;</span> <span class="ruby-string">&quot;555-3456&quot;</span>
<span class="ruby-string">&quot;George Jones&quot;</span> <span class="ruby-string">&quot;456 Topforge Court Mountain Creek, CO&quot;</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-string">&quot;Tim Paulson&quot;</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-string">&quot;555-5678&quot;</span>
</pre>

<p>] probe extract mycontacts 3          ; every 3 items </p>

<pre>; (the 1st column of above data)</pre>

<p>probe extract/index mycontacts 3 3  ; every 3 items, starting with 3rd</p>

<pre>; (the 3rd column of above data)</pre>

<p>You can use &#39;repeat loops much like &#39;foreach, to count through items in a list. This example sets a counter variable &#39;i to count from 1 to the length of the names block, incrementing the variable by 1 each time through the loop:</p>

<p>names: [“John” “Dave” “Jane” “Bob” “Sue”] repeat i (length? names) [</p>

<pre>print append append form i &quot;: &quot; pick names i</pre>

<p>]</p>

<p>names: [“John” “Dave” “Jane” “Bob” “Sue”] repeat i (length? names) [</p>

<pre>print append append pick names i &quot; next: &quot; pick names (i + 1)</pre>

<p>] A &#39;forever loop just repeats forever, until a &#39;break function is encountered:</p>

<p>count: 99 forever [</p>

<pre>print append form count &quot; bottles of beer on the wall&quot;
count: count - 1
if count = 0 [break]</pre>

<p>] 3.8 User Interfaces 3.8.1 Console Apps Utility scripts often print a quick (non-graphic) display of data to the Red console, or perhaps require a brief answer to a question asked at the console text prompt. You can use the &#39;ask and &#39;print functions to do simple console i/o. Save this code to a file and run it (type “do filename.r” in the console):</p>

<p>Red [] user: ask “Username (iwu83):  ” pass: ask “Password (zqo72):  ” either all [user = “iwu83” pass = “zqo72”] [</p>

<pre class="ruby"><span class="ruby-identifier">print</span> <span class="ruby-string">&quot;Welcome back&quot;</span>
</pre>

<p>] [</p>

<pre class="ruby"><span class="ruby-identifier">print</span> <span class="ruby-string">&quot;Incorrect Username/Password&quot;</span>
</pre>

<p>] ask “” 3.8.2 GUI Apps For most “apps”, a GUI (graphic user interface) screen is used to input and output data and to control program flow. Buttons, text fields, drop-down selectors, and other “widgets” allow the user to operate the program. Red provides a simple built-in code dialect for creating interactive GUIs. The word “view” create a window layout. A block holds widget descriptions. The words &#39;below and &#39;across are used to set the default sequential position of widgets. Save each of the examples in this section to a .red file, and compile them to see the screens created:</p>

<p>Red [title: “test” needs: &#39;view] view [</p>

<pre class="ruby"><span class="ruby-identifier">below</span>
<span class="ruby-identifier">button</span>
<span class="ruby-identifier">field</span>
<span class="ruby-identifier">text</span> <span class="ruby-string">&quot;Red is really pretty easy to program.&quot;</span>
<span class="ruby-identifier">text</span><span class="ruby-operator">-</span><span class="ruby-identifier">list</span>
<span class="ruby-identifier">check</span>
</pre>

<p>] You can adjust the visual characteristics of any widget in a screen layout by following each widget with appropriate modifiers:</p>

<p>Red [title: “test” needs: &#39;view] view [</p>

<pre>below
button red &quot;Click Me&quot;              
field 400 &quot;Enter some text here&quot;  
text font-size 16 &quot;Red is really pretty easy to program.&quot; purple
text-list 400x300 data [&quot;line 1&quot; &quot;line 2&quot; &quot;another line&quot;]
check yellow</pre>

<p>] You can have widgets perform functions, or any block of code, when clicked or otherwise activated. Just put the functions inside another set of brackets after the widget. This is how you get your GUIs to &#39;do something&#39;:</p>

<p>Red [title: “test” needs: &#39;view] view [</p>

<pre class="ruby"><span class="ruby-identifier">button</span> <span class="ruby-string">&quot;Click me&quot;</span> [<span class="ruby-identifier">print</span> <span class="ruby-string">&quot;You clicked the button.&quot;</span>]
</pre>

<p>] You can refer to data contained in widgets using the path (“/”) syntax. Assign a variable label to any widgets which you want to reference:</p>

<p>Red [title: “test” needs: &#39;view] view [</p>

<pre>below
text &quot;Some action examples.  Try using each widget:&quot;
button red &quot;Click Me&quot; [
    print &quot;You clicked the red button.&quot;
]
f: field 400 &quot;Type some text here, then press [Enter]&quot; [
    print f/text
]
t: text-list 400x300 data [&quot;Select this&quot; &quot;Then this&quot; &quot;Now this&quot;][
    print pick t/data t/selected
]
check yellow [print &quot;You clicked the yellow check box.&quot;]
button &quot;Quit&quot; [unview]</pre>

<p>]</p>

<p>Red [title: “test” needs: &#39;view] view [</p>

<pre>below
a: area                               ; an area widget labeled &#39;a
f: field                              ; a field widget labeled &#39;f
across
button &quot;Show&quot; [print a/text]
button &quot;Save&quot; [write %somedatafile.txt a/text]
button &quot;Load&quot; [f/text: read %somedatafile.txt]</pre>

<p>]</p>

<p>Red [title: “test” needs: &#39;view] view [</p>

<pre>below
t: text-list data [1 2 3]                ; a text-list labeled &#39;t
button &quot;Show Selected&quot; [print pick t/data t/selected]</pre>

<p>] You can build layouts dynamically using loops, and then display the resulting constructed GUI code:</p>

<p>Red [title: “test” needs: &#39;view] gui: copy [] foreach color [red green blue] [</p>

<pre>append gui reduce [&#39;text color]</pre>

<p>] view layout gui You&#39;ll need to learn a lot more about creating GUI screens if you want to create user apps with Red, but you can get a lot done with just the basics demonstrated above.</p>

<p>Take a look through some additional GUI examples which demonstrate interesting widgets and how to use them.</p>

<p>The examples in the second half of this text will explain and demonstrate by rote many common GUI techniques.</p>

<p>3.8.3 Server and CGI Web Apps Red has network and data/code transfer features built in, which allow you to easily create client-server applications. Client apps can be written in Red, HTML/CSS/Javascript, or any other language which can connect using standard network protocols (HTTP://, TCP, UDP, etc.). Red also provides native “CGI” capabilities, so that server scripts can run on a typical Apache host or any other web server stack, and accept input from HTML web forms, Ajax requests, etc., then print HTML or formatted data responses to appear in the user&#39;s web browser.</p>

<p>A complete section at the end of this text is dedicated to creating CGI applications (stand-alone network applications are covered in Quick Start, Part 2). This allows you to create useful web based data management apps, with Red, which can be accessed on mobile devices, or any platform which has a browser.</p>

<p>3.8.4 Faceless Apps Certain types of utility scripts may not require any interaction with a user. For example, apps that run in the background to perform scheduled file maintenance, to upload routine data backups, to check and update the current system time, etc., don&#39;t necessarily need to show you that they&#39;re running. Red scripts can run in memory without any front end display.</p>

<p>3.9 User Created Functions You can create your own functions in Red using the “func” code structure. New functions are assigned a word label with a colon symbol. The label(s) of data arguments which the function will process are listed in a block, then the calculations or other actions which the function performs are included in a following block.</p>

<p>Here&#39;s a function called &#39;triple, which multiplies the number 3 times any given number argument (called &#39;x here):</p>

<p>triple: func [x] [</p>

<pre class="ruby"><span class="ruby-identifier">print</span> <span class="ruby-value">3</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">x</span>
</pre>

<p>] Now you can apply the &#39;triple function to any argument value, as if that function was a native function word built into the Red language:</p>

<p>triple 4 triple 5 triple 6 print “I just tripled the numbers 4 (12), 5 (15), and 6 (18)” Think of the &#39;x argument (parameter) in the function definition above just like some program&#39;s command line option - it represents some variable data that you send to the program to do some work with. In the &#39;triple function, the argument represents whatever number is multiplied by 3, and &#39;x is the variable placeholder used to represent that parameter value.</p>

<p>The &#39;does structure is a shortcut for &#39;func, when no data parameters are needed:</p>

<p>cls: does [loop 100 [print newline]] cls 3.9.1 Return Values The last value in a Red function definition is treated as its “return” value. The &#39;check function below takes a series of string values as its parameter (labeled &#39;list here), and checks to see if it contains any bad words (in this example, bad words are specified by the characters “–”). This function starts out by setting the variable &#39;answer to “safe”, then uses a &#39;foreach loop and an &#39;if condition to see if “–” is found in any of the strings in the series. If at any point the bad characters are found, the &#39;answer variable is set to “unsafe”. At the end of the function the &#39;answer variable is returned. The function is then run on both the names1 and names2 lists, and the user is shown the returned results:</p>

<p>check: func [list] [</p>

<pre>answer: &quot;safe&quot;
foreach l list [
    if find l &quot;--&quot; [answer: &quot;unsafe&quot;]
]
answer</pre>

<p>] names1: [“Joe” “Dan” “Sh–” “Bill”] names2: [“Paul” “Tom” “Mike” “John”] print append “names1 is ” check names1 print append “names2 is ” check names2 3.9.2 Libraries You can save collections of useful functions (“libraries”) to a file, and import them with &#39;do. This saves you from having to retype or paste the code of commonly used function definitions into each new program. Save just the &#39;check function code above to a file named “myfunctions.red” - be sure to include the rebol[] header when saving code to a file:</p>

<p>Red [] check: func [list] [</p>

<pre>answer: &quot;safe&quot;
foreach l list [
    if find l &quot;--&quot; [answer: &quot;unsafe&quot;]
]
answer</pre>

<p>] The program from the previous section then looks like this:</p>

<p>Red [] do %myfunctions.red names1: [“Joe” “Dan” “Sh–” “Bill”] names2: [“Paul” “Tom” “Mike” “John”] print append “names1 is ” check names1 print append “names2 is ” check names2 Imported files can be found on the local file system (i.e., on your hard drive, a thumb drive, etc.), or at a network/Internet URL. For example, if you save the “myfunctions.r” file on your web site server, you could import it like this:</p>

<p>do <a href="http://site.com/myfunctions.r">site.com/myfunctions.r</a> You can actually include any code you want in imported files (not just function definitions). You could put the entire program above into a file on your web site and run it by “do”ing the URL of the file. Importing a file with &#39;do is exactly the same as copying and pasting the contents of the file into your code, and then executing it.</p>

<p>3.10 Handling Errors The &#39;error? and &#39;try functions can be used together to detect runtime errors in Red code. Use an &#39;if or other conditional evaluation to handle any error events:</p>

<p>if error? try [0 / 0] [alert “Dividing by zero is an error”] You can examine error properties by assigning a label to the result of the &#39;try function:</p>

<p>if error? err: try [0 / 0] [probe err] The &#39;attempt function can also be used to handle errors:</p>

<p>attempt [1 / 1] attempt [0 / 0]</p>
<ol><li>
<p>Some Rote GUI, File, and Data List Examples in Rebol</p>
</li></ol>

<p>This section demonstrates a variety of code patterns which are commonly used to create apps in Red. They make use of user interfaces, functions, variables, string concatenation, lists, loops, conditional evaluations, and other code structures which you&#39;ve been introduced to already. The examples may seen randomly selected or trivial - just paste or type each of them into a script file, by rote, and then compile/run the code. You&#39;ll use variations of each snippet in the 20+ example apps which make up the rest of the tutorial. The first examples focus on performing basic interactions with a user interface, then progress towards handling more interesting data manipulation operations. Pay particular attention to the use of lists and loops, as the examples advance.</p>

<p>4.1 Basic GUI Examples Create a window with a button:</p>

<p>Red [needs: &#39;view] view [</p>

<pre class="ruby"><span class="ruby-identifier">button</span> <span class="ruby-string">&quot;Click Me&quot;</span>
</pre>

<p>] When the button is clicked, do something:</p>

<p>Red [needs: &#39;view] view [</p>

<pre class="ruby"><span class="ruby-identifier">button</span> <span class="ruby-string">&quot;Click Me&quot;</span> [<span class="ruby-identifier">print</span> <span class="ruby-string">&quot;I&#39;ve been clicked!&quot;</span>]
</pre>

<p>] Here&#39;s a window with a button and a text entry field labeled &#39;f. When the button is clicked, print the text currently in the &#39;f field. Try typing something in the field, then click the button:</p>

<p>Red [needs: &#39;view] view [</p>

<pre>f: field &quot;Type here, then click the button&quot;
button &quot;Click Me&quot; [print f/text]</pre>

<p>] When the button is clicked, write the contents of the field to the file mytext.txt, then print that the file has been saved:</p>

<p>Red [needs: &#39;view] view [</p>

<pre>f: field &quot;Type here, then click the button&quot;
button &quot;Click Me&quot; [
    write %mytext.txt f/text
    print &quot;Saved&quot;
]</pre>

<p>] Add another button to read the file contents back into the field. Now you can close the program, run it again, and retrieve the saved text:</p>

<p>Red [needs: &#39;view] view [</p>

<pre>f: field 
button &quot;Save&quot; [
    write %mytext.txt f/text
    print &quot;Saved&quot;
]
button &quot;Load&quot; [
    f/text: form read %mytext.txt
]</pre>

<p>] Here&#39;s the exact same program as above, except with a text area widget, instead of a one-line field. This forms a simple text editor:</p>

<p>Red [needs: &#39;view] view [</p>

<pre>a: area
button &quot;Save&quot; [
    save %mytext.txt a/text
    print &quot;Saved&quot;
]
button &quot;Load&quot; [
    a/text: load %mytext.txt
]</pre>

<p>] Here the text is appended to mylist.txt. Instead of overwriting the file contents each time, each new save operation loads the previous file, then adds an additional new line. The &#39;append function joins together the loaded text with the new text (along with some newline characters), so that a multi-line log file is created:</p>

<p>Red [needs: &#39;view] view [</p>

<pre>below
f: field &quot;Enter some lines here...&quot;
button &quot;Save&quot; [
    save %mylist.txt append append load %mylist.txt f/text &quot;^M^/&quot;
    print &quot;Saved&quot;
]
a: area &quot;All log entries will appear here when loaded...&quot;
button &quot;Load&quot; [
    a/text: form load %mylist.txt
]</pre>

<p>] 4.2 Some GUI Examples Using Lists and Loops Now here are some examples which display lists in a GUI layout, using the &#39;text-list widget:</p>

<p>Red [needs: &#39;view] view [</p>

<pre>text-list data [&quot;John&quot; &quot;Dave&quot; &quot;Jane&quot; &quot;Bob&quot; &quot;Sue&quot;]</pre>

<p>] You can display a previously created list:</p>

<p>Red [needs: &#39;view] mylist: copy [“John” “Dave” “Jane” “Bob” “Sue”] view [</p>

<pre>text-list data mylist</pre>

<p>] A &#39;do block can be used to evaluate code and make changes to the GUI, before a layout is displayed. Here, a blank text-list widget is created, then a block of values is added to it, before being displayed:</p>

<p>Red [needs: &#39;view] mylist: copy [“John” “Dave” “Jane” “Bob” “Sue”] view [</p>

<pre>t: text-list data []
do [append t/data mylist]</pre>

<p>] You can also add items to a widget, using the action block of another widget:</p>

<p>Red [needs: &#39;view] mylist: copy [“John” “Dave” “Jane” “Bob” “Sue”] view [</p>

<pre>t: text-list data []
button &quot;Add Items to List&quot; [append t/data mylist]</pre>

<p>] This example uses the &#39;extract function to create a new list containing just the names from the original list, which is then displayed in the text-list widget:</p>

<p>mylist: copy [“John” 2804 “Dave” 9439 “Jane” 2386 “Bob” 9823 “Sue” 4217] names: extract mylist 2 view [</p>

<pre>t: text-list data names</pre>

<p>] This example does the same thing as above, using a &#39;foreach loop technique. First, a blank &#39;names list is created using “copy []”, then items are added to this list using &#39;foreach and &#39;append. We&#39;ll use this code pattern going forward, to help familiarize the use of &#39;foreach, since it is very common in all types of Red apps:</p>

<p>Red [needs: &#39;view] mylist: [“John” 2804 “Dave” 9439 “Jane” 2386 “Bob” 9823 “Sue” 4217] names: copy [] foreach [n c] mylist [append names n] view [</p>

<pre>t: text-list data names</pre>

<p>] The “index” of an item in a list is its numerical position in the list. The index of the clicked item in a text-list widget is referred to with “/selected”:</p>

<p>Red [needs: &#39;view] mylist: [“John” 2804 “Dave” 9439 “Jane” 2386 “Bob” 9823 “Sue” 4217] names: extract mylist 2 view [</p>

<pre>t: text-list data names [probe t/selected]</pre>

<p>] You can use a selected index, to pick out actual values from the text-list data block:</p>

<p>Red [needs: &#39;view] mylist: [“John” 2804 “Dave” 9439 “Jane” 2386 “Bob” 9823 “Sue” 4217] names: copy [] foreach [n c] mylist [append names n] view [</p>

<pre>t: text-list data names [probe pick t/data t/selected]</pre>

<p>] The word &#39;face can be used when a widget refers to itself. Here&#39;s the same example as above, using &#39;face instead of &#39;t:</p>

<p>Red [needs: &#39;view] mylist: [“John” 2804 “Dave” 9439 “Jane” 2386 “Bob” 9823 “Sue” 4217] names: copy [] foreach [n c] mylist [append names n] view [</p>

<pre>t: text-list data names [
    probe form index? find mylist (pick face/data face/selected)
]</pre>

<p>] You can select the next item in a list by adding 1 to the current item&#39;s index. In the &#39;mylist example below, each number value is always found at the next index location, immediately following every name (i.e., “Jane” is at position 5 in the example list, her number 2386, is at position 6). In code, that&#39;s thought of as 1 + (Jane&#39;s index position):</p>

<p>Red [needs: &#39;view] mylist: [“John” 2804 “Dave” 9439 “Jane” 2386 “Bob” 9823 “Sue” 4217] names: copy [] foreach [n c] mylist [append names n] view [</p>

<pre>t: text-list data names [
    print form pick mylist (
        1 + index? find mylist (pick t/data t/selected)
    )
]</pre>

<p>] 4.3 Building a Basic CRUD (create, read, update, delete) Contacts App Here&#39;s the same idea as above, but with more data fields for each name (3 columns of table data, instead of 2). Name, Address, and Phone values can be found at consecutive Name, Name + 1, and Name + 2 positions:</p>

<p>Red [needs: &#39;view] mycontacts: [</p>

<pre class="ruby"><span class="ruby-string">&quot;John Smith&quot;</span> <span class="ruby-string">&quot;123 Tomline Lane Forest Hills, NJ&quot;</span> <span class="ruby-string">&quot;555-1234&quot;</span>
<span class="ruby-string">&quot;Paul Thompson&quot;</span> <span class="ruby-string">&quot;234 Georgetown Pl. Peanut Grove, AL&quot;</span> <span class="ruby-string">&quot;555-2345&quot;</span>
<span class="ruby-string">&quot;Jim Persee&quot;</span> <span class="ruby-string">&quot;345 Pickles Pike Orange Grove, FL&quot;</span> <span class="ruby-string">&quot;555-3456&quot;</span>
<span class="ruby-string">&quot;George Jones&quot;</span> <span class="ruby-string">&quot;456 Topforge Court Mountain Creek, CO&quot;</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-string">&quot;Tim Paulson&quot;</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-string">&quot;555-5678&quot;</span>
</pre>

<p>] names: copy [] foreach [name address phone] mycontacts [append names name] view [</p>

<pre>t: text-list data names [
    print [
        &quot;Name: &quot;
        pick t/data t/selected
        &quot; Address: &quot;
        pick mycontacts (
            1 + index? find mycontacts (pick t/data t/selected)
        )
        &quot; Phone: &quot;
        pick mycontacts (
            2 + index? find mycontacts (pick t/data t/selected)
        )
    ]
]</pre>

<p>] Instead of printing some rejoined text, display each data item in a text entry field:</p>

<p>Red [needs: &#39;view] mycontacts: copy [</p>

<pre class="ruby"><span class="ruby-string">&quot;John Smith&quot;</span> <span class="ruby-string">&quot;123 Tomline Lane Forest Hills, NJ&quot;</span> <span class="ruby-string">&quot;555-1234&quot;</span>
<span class="ruby-string">&quot;Paul Thompson&quot;</span> <span class="ruby-string">&quot;234 Georgetown Pl. Peanut Grove, AL&quot;</span> <span class="ruby-string">&quot;555-2345&quot;</span>
<span class="ruby-string">&quot;Jim Persee&quot;</span> <span class="ruby-string">&quot;345 Pickles Pike Orange Grove, FL&quot;</span> <span class="ruby-string">&quot;555-3456&quot;</span>
<span class="ruby-string">&quot;George Jones&quot;</span> <span class="ruby-string">&quot;456 Topforge Court Mountain Creek, CO&quot;</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-string">&quot;Tim Paulson&quot;</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-string">&quot;555-5678&quot;</span>
</pre>

<p>] names: copy [] foreach [name address phone] mycontacts [append names name] view [</p>

<pre>below
t: text-list data names [
    n/text: pick t/data t/selected
    a/text: pick mycontacts (
        1 + index? find mycontacts (pick t/data t/selected)
    )
    p/text: pick mycontacts (
        2 + index? find mycontacts (pick t/data t/selected)
    )
]
text &quot;Name:&quot;
n: field
text &quot;Address:&quot;
a: field
text &quot;Phone:&quot;
p: field</pre>

<p>] Here&#39;s a version of the code above, with a nicer layout using the &#39;panel widget:</p>

<p>Red [needs: &#39;view] mycontacts: copy [</p>

<pre class="ruby"><span class="ruby-string">&quot;John Smith&quot;</span> <span class="ruby-string">&quot;123 Tomline Lane Forest Hills, NJ&quot;</span> <span class="ruby-string">&quot;555-1234&quot;</span>
<span class="ruby-string">&quot;Paul Thompson&quot;</span> <span class="ruby-string">&quot;234 Georgetown Pl. Peanut Grove, AL&quot;</span> <span class="ruby-string">&quot;555-2345&quot;</span>
<span class="ruby-string">&quot;Jim Persee&quot;</span> <span class="ruby-string">&quot;345 Pickles Pike Orange Grove, FL&quot;</span> <span class="ruby-string">&quot;555-3456&quot;</span>
<span class="ruby-string">&quot;George Jones&quot;</span> <span class="ruby-string">&quot;456 Topforge Court Mountain Creek, CO&quot;</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-string">&quot;Tim Paulson&quot;</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-string">&quot;555-5678&quot;</span>
</pre>

<p>] names: copy [] foreach [name address phone] mycontacts [append names name] view [</p>

<pre>t: text-list data names [
    n/text: pick t/data t/selected
    a/text: pick mycontacts (
        1 + index? find mycontacts pick t/data t/selected
    )
    p/text: pick mycontacts (
        2 + index? find mycontacts pick t/data t/selected
    )
]
panel [
    below
    text &quot;Name:&quot;
    n: field 200
    text &quot;Address:&quot;
    a: field 200
    text &quot;Phone:&quot;
    p: field 200
]</pre>

<p>] Add items to a block (data displayed in a text-list) by entering text into field widgets:</p>

<p>Red [needs: &#39;view] contacts: copy []  names: copy [“”] view [</p>

<pre>t: text-list data names [
    n/text: pick t/data t/selected
    a/text: pick contacts (
        1 + index? find contacts pick t/data t/selected
    )
    p/text: pick contacts (
        2 + index? find contacts pick t/data t/selected
    )
]
panel [
    below
    text &quot;Name:&quot;
    n: field 200
    text &quot;Address:&quot;
    a: field 200
    text &quot;Phone:&quot;
    p: field 200
    button &quot;Add&quot; [
        append contacts reduce [copy n/text copy a/text copy p/text]
        clear names
        foreach [name address phone] contacts [append names name]
    ]
]</pre>

<p>] This example uses a function to encapsulate duplicated code (which doesn&#39;t shorten the whole program much here, but if the duplicated code was, for example, 20 lines long and used in 5 different places, the whole program would be about 100 lines shorter):</p>

<p>Red [needs: &#39;view] extract-names: func [] [</p>

<pre>clear names
foreach [name address phone] contacts [append names name]
copy names</pre>

<p>] contacts: copy []  names: copy [“”] view [</p>

<pre>t: text-list data names [
    n/text: pick t/data t/selected
    a/text: pick contacts (
        1 + index? find contacts pick t/data t/selected
    )
    p/text: pick contacts (
        2 + index? find contacts pick t/data t/selected
    )
]
panel [
    below
    text &quot;Name:&quot;
    n: field 200
    text &quot;Address:&quot;
    a: field 200
    text &quot;Phone:&quot;
    p: field 200
    button &quot;Add&quot; [
        append contacts reduce [copy n/text copy a/text copy p/text]
        extract-names
    ]
]</pre>

<p>] Load a list from file using &#39;load %filename, and assign it a variable label. Save a list to file using &#39;save %filename [list]. Create an empty file using save %filename [], only if it doesn&#39;t already exist (if the file is not found in the reading of the current directly listing):</p>

<p>Red [needs: &#39;view] extract-names: func [] [</p>

<pre>clear names
foreach [name address phone] contacts [append names name]
if names = [] [names: [&quot;&quot;]]
copy names</pre>

<p>] if not find read %. %contacts [save %contacts []] contacts: load %contacts</p>

<p>names: [“”] names: extract-names view [</p>

<pre>title &quot;Contacts&quot;
t: text-list data names [
    n/text: copy pick t/data t/selected
    a/text: copy pick contacts (
        1 + index? find contacts pick t/data t/selected
    )
    p/text: copy pick contacts (
        2 + index? find contacts pick t/data t/selected
    )
]
panel [
    below
    text &quot;Name:&quot;
    n: field 200
    text &quot;Address:&quot;
    a: field 200
    text &quot;Phone:&quot;
    p: field 200
    button &quot;Add&quot; [
        append contacts reduce [copy n/text copy a/text copy p/text]
        extract-names
    ]
    button &quot;Save&quot; [save %contacts contacts]
]</pre>

<p>] Notice that a &#39;title widget with the text “Contacts” was added to the program above, which is displayed in the title bar of the GUI window.</p>

<p>You could create a wide variety of basic “CRUD” (create, read, update, delete) apps using variations of the code above. So far, this program actually only creates and reads, but we&#39;ll add more to it shortly.</p>
<ol><li>
<p>A Few More Complete App Examples</p>
</li></ol>

<p>5.1 Tip Calculator This app calculates the total amount, including tip, to pay for a restaurant meal:</p>

<p>A window layout is created. It contains a title widget, 3 text field widgets, labeled &#39;f,&#39;t, and &#39;x, and a button widget. The &#39;below word is used to position each consecutive widget below one another. The &#39;f and &#39;t fields contain some default money and tip rate values ($9 and .2 (20 percent)). When the button is clicked by the user, the &#39;x field&#39;s text is set to the value computed by multiplying the &#39;f field&#39;s float value, times the &#39;t field&#39;s float value + 1 (i.e., the total to pay for a $9 bill is ($9 times 1.2)): Red [needs: &#39;view] view [</p>

<pre>title &quot;Tip Calculator&quot;
below
f: field &quot;9&quot;
t: field &quot;.2&quot; 
button &quot;Calculate&quot; [
    append clear x/text (to float! f/text) * (1 + (to float! t/text))
]
x: field &quot;tip&quot;</pre>

<p>] 5.2 Tile Game The code below creates a playable tile game. Click any tile piece to move it into the empty space. Rearrange the tiles in ascending order:</p>

<p>A GUI window layout is created with the title “Tile Game” and a silver backdrop color. The &#39;style word, in Red&#39;s GUI dialect, is used to create a new &#39;button object labeled &#39;t. Whenever a &#39;t widget is clicked by the user, three actions occur: the label &#39;x is set to the box&#39;s current &#39;offset (coordinate position), the box&#39;s coordinate position is set to the &#39;e widget&#39;s position, and the &#39;e widget&#39;s position is changed to the &#39;x position. These three actions together effectively swap the positions of the clicked button and the &#39;e widget (as you&#39;ll see below, the widget labeled &#39;e is just a plain silver base widget (box), which appears as a blank space in the window layout). The &#39;return word, in Red&#39;s GUI dialect, is used to start a new “line” of widgets (similar to how a carriage return is used to start a new line in a text document). A bunch of &#39;t box widgets are added to lines in the window layout, along with the final base widget labeled &#39;e. Any time you click a numbered button, its position is swapped with the empty silver box. Red [needs: &#39;view]  view [ </p>

<pre>title &quot;Tile Game&quot;
backdrop silver
style t: button 100x100 [
    x: face/offset
    face/offset: e/offset 
    e/offset: x
] 
t &quot;8&quot;  t &quot;7&quot;  t &quot;6&quot;  return 
t &quot;5&quot;  t &quot;4&quot;  t &quot;3&quot;  return 
t &quot;2&quot;  t&quot; 1&quot;  e: base silver</pre>

<p>] 5.3 Generic Calculator Below is a calculator app. Most of the code should make sense.</p>

<p>A GUI window is created, with the title “Calculator” The window layout includes a field labeled &#39;f. It is 230x50 pixels in size, and the font size of text displayed in it is 25. The &#39;style word is used to create a new button object called &#39;b, which is 50x50 pixels in size, and which appends the current button&#39;s face text to the &#39;f field widget&#39;s text, whenever one of the &#39;b buttons is clicked. A bunch of &#39;b buttons are added to the window layout, each displaying a different number or mathematical operator. The &#39;return word is used to start new lines of buttons. The “=” button attempts to set the &#39;f field&#39;s text to whatever results in “do”ing (evaluating) the current mathematical expression displayed in the &#39;f field. Red [needs: &#39;view] view [</p>

<pre>title &quot;Calculator&quot;
f: field 230x50 font-size 25 &quot;&quot;  return 
style b: button 50x50 [append f/text face/text]
b &quot;1&quot;  b &quot;2&quot;  b &quot;3&quot;  b &quot; + &quot;  return 
b &quot;4&quot;  b &quot;5&quot;  b &quot;6&quot;  b &quot; - &quot;  return 
b &quot;7&quot;  b &quot;8&quot;  b &quot;9&quot;  b &quot; * &quot;  return 
b &quot;0&quot;  b &quot;.&quot;  b &quot; / &quot;  b &quot;=&quot; [attempt [
        calculation: form do f/text 
        append clear f/text calculation
]]</pre>

<p>] NOTE: if you want to work with floats (fractions) in this calculator app, be sure to include a decimal point in at least one of the entered numbers (i.e., 1.0 / 2, instead of 1 / 2)</p>

<p>Try building this same app in any other programming language, and you&#39;ll see that there is absolutely nothing simpler than Red&#39;s dialect approach to building windowed programs.</p>

<p>5.4 Coin Flip Clicking the button in this app randomly flips between a heads and tails coin image:</p>

<p>Two images are loaded from specified URLs on the Internet. The label &#39;h is assigned to the loaded heads image. The label &#39;t is assigned to the loaded tails image. A window layout is created with the title “Coin Flip” and the &#39;below layout directive. It contains an image widget labeled &#39;i which initially displays the &#39;h image (the coin head image), a text field entry widget labeled &#39;f, and a button displaying the text “Flip”. When the button is clicked, it sets the &#39;f field text to the first item in a randomly ordered list of the 2 text strings “Heads” and “Tails”. Next, an &#39;either conditional evaluation is performed. If the text in the &#39;f field is “Heads” (that random state was determined in the previous step), then the image value of the &#39;i widget is set to the &#39;h image (the heads image). Otherwise (i.e., if the text in the &#39;f field is “Tails”), then the image in the &#39;i widget is set to &#39;t (the tails image). The display (labeled &#39;g) is updated using the &#39;show function. Red [needs: &#39;view] h: load <img src="http://re-bol.com/heads.jpg" /> t: load <img src="http://re-bol.com/tails.jpg" /> view [</p>

<pre>title: &quot;Coin Flip&quot;
below
i: image h
f: field
button &quot;Flip&quot; [
    f/text: first random [&quot;Heads&quot; &quot;Tails&quot;]
    either f/text = &quot;Heads&quot; [i/image: h] [i/image: t] 
]</pre>

<p>] NOTE: In this example, the random number generator is not seeded. This tutorial will be updated when that functionality (&#39;random/seed now&#39; in Rebol) is implemented more simply in Red.</p>

<p>5.5 Additional Example Apps to Study Here are a few more short app examples. See if you can follow the basic flow of code in each program. Pay attention to which pieces of code are variable labels, GUI layout widgets, conditional evaluations, etc.</p>

<p>Here&#39;s an app to quiz users on basic addition math facts. Try changing it to quiz subtraction, multiplication, and division on selected ranges of random numbers (i.e., subtraction on numbers 1 - 100 or multiplication on numbers 1 - 12):</p>

<p>Red [needs: &#39;view] x: func [] [append append form random 10 “ + ” form random 20] view [</p>

<pre>title &quot;Math Test&quot;
f1: field 
f2: field &quot;Answer_here...&quot;
button &quot;Check Answer&quot; [
    print either f2/text = form do f1/text [&quot;Yes!&quot;][&quot;No&quot;]
    f1/text: x
    f2/text: &quot;&quot;
]
do [f1/text: x]</pre>

<p>] Try changing this one to generate insults:</p>

<p>Red [needs: &#39;view] xx: form x: [“brilliant” “rare” “unique” “talented” “exceptional”] yy: form y: [“genius” “champion” “winner” “success” “achiever”] view [</p>

<pre>title &quot;Compliment Generator&quot;
below
area xx
area yy
button &quot;Compliment&quot; [
    print [
        &quot;You&#39;re a&quot;
        first random x
        first random y &quot;!&quot;
    ]
]</pre>

<p>] More examples are coming soon!</p>

<p>(Be sure to see <a href="http://re-bol.com/rebol_quick_start.html">re-bol.com/rebol_quick_start.html</a> and <a href="http://re-bol.com/short_rebol_examples.r">re-bol.com/short_rebol_examples.r</a> to see where this tutorial is heading, as Red matures to become as full featured as Rebol 2).</p>

<p>Copyright © 2000-2015 Nick Antonaccio. All rights reserved.</p>

</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

